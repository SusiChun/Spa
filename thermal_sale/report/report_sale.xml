<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<template id="report_sale_document">
    <t t-call="thermal_sale.small_external_layout">
        <t t-set="o" t-value="o.with_context(lang=lang)"/>
        <div class="page"
             style="margin-top:10px;text-align:left;width:400px;background-color:white;font-size:16px;border:1px solid black;padding:5px;">

            <!-- HEADER TOKO -->
            <div style="text-align:center;border-bottom:1px solid black;padding-bottom:5px;margin-bottom:5px;">
                <div style="font-size:16pt;font-weight:bold">
                    <t t-esc="o.company_id.name"/>
                </div>
                <div>
                    <t t-if="o.company_id.street"><span t-esc="o.company_id.street"/>, </t>
                    <t t-if="o.company_id.street2"><span t-esc="o.company_id.street2"/>, </t>
                    <t t-if="o.company_id.city"><span t-esc="o.company_id.city"/>, </t>
                    <t t-if="o.company_id.state_id"><span t-esc="o.company_id.state_id.name"/> </t>
                </div>
            </div>

            <!-- INFO ORDER -->
            <table style="width:100%;font-size:13px;margin-bottom:5px;border-bottom:1px solid black;">
                <tr>
                    <td>Order No</td><td>:</td>
                    <td><t t-esc="o.name"/></td>
                </tr>
                <tr>
                    <td>Kasir</td><td>:</td>
                    <td><t t-esc="o.user_id.name"/></td>
                </tr>
                <tr  style="border-bottom:1px solid black;">
                    <td>Date</td><td>:</td>
                    <td><t t-esc="o.date_order"/></td>
                </tr>
                <tr>
                    <td>By</td><td>:</td>
                    <td><t t-esc="o.therapist_id.name"/></td>
                </tr>
                <tr>
                    <td>Room</td><td>:</td>
                    <td><t t-esc="o.room"/></td>
                </tr>
                <tr>
                    <td>Ket</td><td>:</td>
                    <td><t t-esc="o.note"/></td>
                </tr>
            </table>
       <br/>
            <!-- DETAIL ITEM -->
            <table style="width:100%;font-size:13px;margin-bottom:10px;border-bottom:1px solid black;">
                <thead>
                    <tr style="border-bottom:1px solid black;border-top:1px solid black;">
                        <th style="text-align:left;border-left:1px solid black;">ITEM NAME</th>
                        <th style="text-align:center;border-left:1px solid black;">QTY</th>
                        <th style="text-align:right;border-left:1px solid black;">AMOUNT</th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="o.order_line" t-as="line">
                        <td  style="border-left:1px solid black;"><t t-esc="line.product_id.display_name"/></td>
                        <td style="text-align:center;border-left:1px solid black;"><t t-esc="line.product_uom_qty"/></td>
                        <td style="text-align:right;border-left:1px solid black;">
                            <span t-esc="line.price_subtotal+line.discount_fixed"
                                  t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!-- TOTAL -->
            <table style="width:100%;font-size:13px">
                <tr>
                    <td>Subtotal</td>
                    <td style="text-align:right;">
                        <span t-esc="o.amount_untaxed_before_discount"
                              t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                    </td>
                </tr>
                <tr style="font-weight:bold;border-top:1px solid black;">
                    <td>TOTAL</td>
                    <td style="text-align:right;">
                        <span t-esc="o.amount_untaxed_before_discount"
                              t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                    </td>
                </tr>
            </table>
        </div>
    </t>
</template>



        <template id="report_small_invoice">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-set="lang" t-value="o.partner_id.lang"/>
                    <t t-call="thermal_sale.report_sale_document" t-lang="lang"/>
                </t>
            </t>
        </template>

    </data>
</odoo>
